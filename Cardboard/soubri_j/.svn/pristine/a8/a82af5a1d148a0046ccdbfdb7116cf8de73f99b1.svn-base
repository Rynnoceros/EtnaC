/*
** ETNA PROJECT, 24/10/2018 by soubri_j
** check.c
** File description:
**      File containing check functions.
*/
#include "check.h"

/*
    Function to check if there is interactions between characters
    and items on a map.
    Params : 
        map : The map to check
*/
void checking_interactions(map_t *map)
{   
    int x = 0;
    int y = 0;
    my_putstr("Checking interactions\n");
    if (map != NULL && map->characters != NULL && map->items != NULL) {
        for (int i = 0; i < map->nb_characters; ++i) {
            for (int j = 0; j < map->items->nb_items; ++j) {
                x = map->characters[i]->coord[E_X];
                y = map->characters[i]->coord[E_Y];
                if (x == map->items->items->coord[E_X] && 
                    y == map->items->items->coord[E_Y]) {
                    map->items->items->interact(map, 
                        map->characters[i], map->items->items);
                }
                map->items->items = map->items->items->next;
            }
        }
    }
}

